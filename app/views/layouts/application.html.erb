<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Deli Drop App" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <link rel="icon" href="/icon.png" type="image/png">
    <link rel="icon" href="/icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/icon.png">
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>
  </head>

  <body>
    <div class="mensages">
      <% if notice.present? %>
        <div class="app-flash app-flash--success">
          <span class="app-flash__icon">✔</span>
          <span class="app-flash__text"><%= notice %></span>
        </div>
      <% end %>

      <% if alert.present? %>
        <div class="app-flash app-flash--error">
          <span class="app-flash__icon">⚠</span>
          <span class="app-flash__text"><%= alert %></span>
        </div>
      <% end %>
    </div>
    <div id="app-vue"></div>
    <%= yield %>
  </body>
</html>

<style>
  .mensages {
    width: 100%;
    display: flex;
    justify-content: center;
    position: absolute;
    top: 1rem;
  }

  .app-flash {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    border-radius: 0.75rem;
    font-size: 0.95rem;
    font-weight: var(--font-weight-medium);
    box-shadow: var(--shadow-lg);
    animation: fadeIn 0.3s ease-out;
  }

  .app-flash__icon {
    font-size: 1.2rem;
  }

  .app-flash--success {
    background-color: var(--color-success);
    color: var(--color-white);
  }

  .app-flash--error {
    background-color: var(--color-error);
    color: var(--color-white);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
